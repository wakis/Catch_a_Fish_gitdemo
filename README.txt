# Catch_a_Fish_gitdemo
 
2019年度
KAITでのチーム開発で発生したコードをまとめておく場所です。
 
This is the explosive Kait developed for TGS2019.
If you look at this, Could writed beautiful code whose eyes will explode.
We recommend that you do not look if you do not need it.
Have a good developing.

以下はファイルごとの説明です
＿＿＿＿＿＿＿＿＿＿＿＿
これは、TGS2019に出展した「フィッシングプラス」のROMです。
開発環境は Unity2018.3.2f1
PC Standalone でビルドします。

プレイには、PCとオリジナルのデバイス（クーラーボックスと釣り竿）が必要です。
テストプレイでは、それぞれの操作は以下のボタンで代用可能です
・釣り竿を用いた操作 → スペースキー
・クーラーボックスを開く　→　'V'キー

展示時の流れは以下のとおりである
ア).PC,視覚ディスプレイ(ディスプレイ付きPCの場合は省略可),スピーカー(同様省略可),オリジナルのデバイス(アルドゥイーノ経由でPCに接続,テストなどの場合は省略可)をそれぞれ接続し、動作を確認する。確認方法は、視覚ディスプレイとスピーカーは通常通り。オリジナルのデバイスはシリアルモニタを使うとよい
イ).Unityアプリケーションを起動し、波の音から始まる待機画面になることを確認する。画面にスペル違いの「HELOO」と「ボックスを閉じて[L]キーを押して」が出ていると思いますが、正常なスタートです。
ウ).クーラーボックスの光度センサーの閾値を設定します。テストプレイなどデバイスを省略する場合は、設定不要です。メッセージが消えるまで、繰り返してください。
ウ1).「ボックスを閉じて[L]キーを押して」の指示通り、クーラーボックスの蓋を閉じて、Lキーを押してください。メッセージが変わります
ウ2).「ボックスを開けて[L]キーを押して」の指示通り、クーラーボックスの蓋を開けて、Lキーを押してください。メッセージが「ボックスを閉じて[L]キーを押して」に切り替わった場合は、ウ1)からやり直してください
エ).「HELOO」と一緒にメッセージが消えた場合、セッティングは終了です。実際の体験に移りましょう
1).釣り竿のボタンを押してスタートします。
2).シーンが切り替わり、浜辺に立っていると思います。ボタンを押すことでキャストできます。
3).キャスト後、「Hit」の文字が出た瞬間に釣り竿を大きく振り上げるとものを吊り上げることが出来ます。釣ったものを鑑賞し、ボタンを押すことで2)に移ります。
4).3回繰り返すと、視点が動き「クーラーボックスを開けてください」と表示されるので、開けてください。釣ったゴミが表示されます。この際、釣り竿はスタッフが回収してください
5).釣り竿のボタンを押すことで、お説教スライドシーンに移ります。2ページあるので、ボタンを押して進めてください。
6).最後のスライドでボタンを押すと待機画面に戻ります。1)に戻り、体験を繰り返せます。
以上

主要なフォルダは以下のとおりである
・ikoda
 藺古田君の個人ファイル、Material,Model,texturenのモデルに必要なあれこれが入ってます。
・Prefabs
 ゲームで使われるモデルの原点位置や大きさなどが調整されているものが入っています。
・Resources
 ・Fishprefab
  釣りあげられるモデルたちを管理するためのフォルダ。ナンバリングされているファイルは本番では未使用。"Assets/wakis/wakisobj"のツール内のリストにすべて入る
 ・SlideList
  お説教スライドシーンで使う画像を入れる場所。
・Scenes
 波や地形のテストシーンです。
・Script
 環境用のゴミの生成、挙動制御などのスクリプトが入ってます。
・wakis
 ・wakisobj
  釣れるモデルを管理するツール。リストに入っているモデルが使われる。
  トリガータブで次のことが出来る(右クリック→"Do to Trigger.name"で実行)
   ＞Fishprefab_In_List…"Assets/Resources/Fishprefab"のプレハブをリストに入れる
   ＞その他…今のバージョンでは使われていない
  それぞれの項目は以下のとおりである
   ＞Fish…釣れる物のプレハブ
   ＞Percent…釣れる確率を変えられます。個別Percent値/全体Percent値合計　の確率
   ＞Hitter…現バージョンでは使われていない、コレクション要素
 ・BGM_SE
  BGMと波のSEを流すプレハブがあります。波はランダム周期で繰り返し流れます。
 ・Model
  "Prefabs"で調整されたもので使用するものが入っています
 ・music
  大沢君が作ってくれたBGMやSEが入っています
 ・Object/playing
  釣り竿と浮きのモデル、物理挙動を加えたこれらのプレハブが入っています。"Object"事態にはデバッグで使ったObjectが入っています
 ・Scenes
  実際に展示で使われたシーンが入っています。
  ・Opening
   タイトルおよび待機画面のシーンです。
  ・SampleScene
   体験本編のシーンです。名前がSampleSceneなのは開発者が怠惰で変え忘れたからです。変えたところで支障はありません。なんでもするので許してください。
  ・result
   体験終了時のお説教スライドシーンです。頭文字が小文字なのは開発者が才バ力だからです。なんでもするので許してください。
  ・New Folder/New Scene
   使用するモデルの大きさを比べ、調整するシーンです。プレハブ管理をしているので、原則ここで変更して更新しています。名前がNewなのは傲慢な開発者しか触れないからいいだろうと判断した結果です。誠に申し訳ございません。
 ・Script
  体験におけるにぎやかし以外のほとんどのスクリプトがここにあります。様々なものがあるので主要な物のみ説明します。
   ・PlayingGameRule.sc
    "SampleScene"におけるゲーム進行を司るスクリプト。"Ipgamerule.cs"のインターフェースを使用したスクリプトをアタッチすることでそれぞれの進行度合いでのゲームルールが書き換えられます。サンプルコードは"Assets/wakis/Script/DemoScript"。
   ・Ipgamerule.cs
    スクリプトが書けるゲームデザイナ用に作成したインターフェース。以下に使用法を記す。
     ・pGame_Start_event()…該当進行に移行した際に1度だけ呼び出される。Start()に相当
     ・pGame_Update_event()…該当進行中に繰り替えし呼び出される。Update()に相当。0を返せばそのまま、1を返せば次の進行に移る。
   ・DemoScript
    デモって書いてあるけど、本番で使ったIpgameruleインターフェースを利用したスクリプト。
以上


